(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1010],{16971:(e,t,n)=>{Promise.resolve().then(n.bind(n,66722)),Promise.resolve().then(n.bind(n,33730))},45241:(e,t,n)=>{"use strict";n.d(t,{Q:()=>d,t:()=>m});var r=n(57437),s=n(2265),a=n(1916),l=n(12200),o=n(4761),i=n(87138),c=n(87592);function d(e){let{title:t="Testimonials",initialData:n={},action:d}=e,[m,u]=(0,s.useState)({}),[p,f]=(0,s.useState)({title:(null==n?void 0:n.title)||""});return(0,r.jsx)(a.Z,{title:t,children:(0,r.jsxs)("form",{className:"grid w-full items-center gap-4",onSubmit:function(e){e.preventDefault();let t={},n=!0;Object.keys(p).forEach(e=>{""===p[e]&&(t[e]=!0,n=!1)}),u(t),n&&d&&d(p)},children:[(0,r.jsx)(o.Z,{id:"title",placeholder:"Input title text here..",value:p.title,isError:null==m?void 0:m.title,label:"Title",onChange:function(e){let{id:t,value:n}=e.target;f({...p,[t]:n}),n&&""!==n.trim()?u({...m,[t]:!1}):u({...m,[t]:!0})}}),(0,r.jsx)(i.default,{href:"/cms/testimonials",children:(0,r.jsxs)(l.z,{className:"rounded-md p-text-body-sm font-semibold",children:["Go to Testimonials",(0,r.jsx)(c.Z,{className:"h-4 w-4"})]})}),(0,r.jsx)("div",{className:"text-end",children:(0,r.jsx)(l.z,{type:"submit",children:"Update"})})]})})}function m(e){let{title:t="Testimonials",initialData:n={},action:i}=e,[c,d]=(0,s.useState)({}),[m,u]=(0,s.useState)({personName:(null==n?void 0:n.personName)||"",personJob:(null==n?void 0:n.personJob)||"",comment:(null==n?void 0:n.comment)||""});function p(e){let{id:t,value:n}=e.target;u({...m,[t]:n}),n&&""!==n.trim()?d({...c,[t]:!1}):d({...c,[t]:!0})}return(0,r.jsx)(a.Z,{title:t,children:(0,r.jsxs)("form",{className:"grid w-full items-center gap-4",onSubmit:function(e){e.preventDefault();let t={},r=!0;if(Object.keys(m).forEach(e=>{""===m[e]&&(t[e]=!0,r=!1)}),d(t),!r)return;let s={personName:m.personName,personJob:m.personJob,comment:m.comment};i&&i(s,n._id)},children:[(0,r.jsx)(o.Z,{id:"personName",placeholder:"Input name here..",value:m.personName,isError:null==c?void 0:c.personName,label:"Name",onChange:p}),(0,r.jsx)(o.Z,{id:"personJob",placeholder:"Input job here..",value:m.personJob,isError:null==c?void 0:c.personJob,label:"Job",onChange:p}),(0,r.jsx)(o.Z,{id:"comment",placeholder:"Input comment here..",value:m.comment,isError:null==c?void 0:c.comment,label:"Comment",onChange:p,type:"textarea"}),(0,r.jsx)("div",{className:"text-end",children:(0,r.jsx)(l.z,{type:"submit",children:(null==n?void 0:n._id)?"Update":"Add"})})]})})}},33730:(e,t,n)=>{"use strict";n.d(t,{default:()=>p});var r=n(57437),s=n(2265),a=n(52632),l=n(45241),o=n(58064);let i=(0,o.createServerReference)("40eaf190d7b869bb23d0b6e24a2b878f03951ec62e",o.callServer,void 0,o.findSourceMapURL,"deleteTestimonial"),c=(0,o.createServerReference)("60872eeb30642aac896e5ff403ff84fd6bb7e95394",o.callServer,void 0,o.findSourceMapURL,"createOrUpdateTestimonial");var d=n(16463),m=n(75649),u=n(75242);function p(e){let{data:t}=e,[n,o]=(0,s.useState)(!1),[p,f]=(0,s.useState)({}),[h,b]=(0,s.useState)(!1),v=(0,d.useRouter)(),{toast:x}=(0,u.pm)();return(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(m.Z,{loading:n}),(0,r.jsx)(a.Z,{title:"Testimonials",dialogOpen:h,setDialogOpen:b,setLoading:o,setFormData:f,data:t,initialColumns:[{accessorKey:"personName",header:"Name"},{accessorKey:"personJob",header:"Job"},{accessorKey:"comment",header:"Comment"}],deleteAction:i,form:(0,r.jsx)(l.t,{initialData:p,action:async(e,t)=>{o(!0);let n=await c(e,t);o(!1),b(!1),x({variant:n?"primary":"destructive",description:n?"Success":"Error"}),n&&v.refresh()}})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2420,3627,4476,9373,8391,8291,8457,2066,5586,6301,6722,2632,7130,6215,1744],()=>t(16971)),_N_E=e.O()}]);