(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4516],{5647:(e,t,i)=>{Promise.resolve().then(i.bind(i,66722)),Promise.resolve().then(i.bind(i,10449))},87117:(e,t,i)=>{"use strict";i.d(t,{c:()=>u,d:()=>m});var l=i(57437),a=i(2265),r=i(1916),s=i(12200),n=i(4761),d=i(87138),c=i(87592),o=i(58214);function u(e){let{title:t="Certificates",initialData:i={},action:o}=e,[u,m]=(0,a.useState)({}),[g,f]=(0,a.useState)({title:(null==i?void 0:i.title)||""});return(0,l.jsx)(r.Z,{title:t,children:(0,l.jsxs)("form",{className:"grid w-full items-center gap-4",onSubmit:function(e){e.preventDefault();let t={},i=!0;Object.keys(g).forEach(e=>{""===g[e]&&(t[e]=!0,i=!1)}),m(t),i&&o&&o(g)},children:[(0,l.jsx)(n.Z,{id:"title",placeholder:"Input title text here..",value:g.title,isError:null==u?void 0:u.title,label:"Title",onChange:function(e){let{id:t,value:i}=e.target;f({...g,[t]:i}),i&&""!==i.trim()?m({...u,[t]:!1}):m({...u,[t]:!0})}}),(0,l.jsx)(d.default,{href:"/cms/certificates",children:(0,l.jsxs)(s.z,{className:"rounded-md p-text-body-sm font-semibold",children:["Go to Certificates",(0,l.jsx)(c.Z,{className:"h-4 w-4"})]})}),(0,l.jsx)("div",{className:"text-end",children:(0,l.jsx)(s.z,{type:"submit",children:"Update"})})]})})}function m(e){let{title:t="Certificates",initialData:i={},action:d}=e,[c,u]=(0,a.useState)({}),[m,g]=(0,a.useState)({title:(null==i?void 0:i.title)||"",description:(null==i?void 0:i.description)||"",imageUrl:(null==i?void 0:i.image)?o._+(null==i?void 0:i.image):"",imageFile:{}}),[f,p]=(0,a.useState)((null==i?void 0:i.image)?o._+(null==i?void 0:i.image):null);function v(e){let{id:t,value:i}=e.target;g({...m,[t]:i}),i&&""!==i.trim()?u({...c,[t]:!1}):u({...c,[t]:!0})}return(0,l.jsx)(r.Z,{title:t,children:(0,l.jsxs)("form",{className:"grid w-full items-center gap-4",onSubmit:function(e){e.preventDefault();let t={},l=!0;if(Object.keys(m).forEach(e=>{"imageUrl"===e||("imageFile"===e?m.imageFile.name||""!=m.imageUrl||(t[e]=!0,l=!1):""!==m[e]||(t[e]=!0,l=!1))}),u(t),!l)return;let a={title:m.title,description:m.description,image:m.imageFile,imageUrl:null==i?void 0:i.image};d&&d(a,i._id)},children:[(0,l.jsx)(n.Z,{id:"title",placeholder:"Input title text here..",value:m.title,isError:null==c?void 0:c.title,label:"Title",onChange:v}),(0,l.jsx)(n.Z,{id:"description",placeholder:"Input description text here..",value:m.description,isError:null==c?void 0:c.description,label:"Description",onChange:v,type:"textarea"}),(0,l.jsx)(n.Z,{id:"image",placeholder:"Input image text here..",isError:null==c?void 0:c.imageFile,label:"Image",type:"image",preview:f,onChange:function(e){let t=e.target.files[0];g({...m,imageFile:t}),t?(p(URL.createObjectURL(t)),u({...c,imageFile:!1})):u({...c,imageFile:!0})}}),(0,l.jsx)("div",{className:"text-end",children:(0,l.jsx)(s.z,{type:"submit",children:(null==i?void 0:i._id)?"Update":"Add"})})]})})}},10449:(e,t,i)=>{"use strict";i.d(t,{default:()=>f});var l=i(57437),a=i(2265),r=i(52632),s=i(87117),n=i(58064);let d=(0,n.createServerReference)("40eb614e5d0bf39673f1e07f83982ebed124b691df",n.callServer,void 0,n.findSourceMapURL,"deleteCertificate"),c=(0,n.createServerReference)("600bdea5e13a1dec285514e403f3127c11ebe1646d",n.callServer,void 0,n.findSourceMapURL,"createOrUpdateCertificate");var o=i(58214),u=i(16463),m=i(75649),g=i(75242);function f(e){let{data:t}=e,[i,n]=(0,a.useState)(!1),[f,p]=(0,a.useState)({}),[v,h]=(0,a.useState)(!1),x=(0,u.useRouter)(),{toast:b}=(0,g.pm)();return(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(m.Z,{loading:i}),(0,l.jsx)(r.Z,{title:"Certificates",dialogOpen:v,setDialogOpen:h,setLoading:n,setFormData:p,data:t,initialColumns:[{accessorKey:"title",header:"Title"},{accessorKey:"image",header:"Image",cell:e=>{let{row:t}=e;return(0,l.jsx)("img",{src:o._+t.getValue("image"),alt:t.getValue("image"),className:"rounded-lg w-full lg:w-[8rem] cursor-pointer mt-[0.5rem]"})}}],deleteAction:d,form:(0,l.jsx)(s.d,{initialData:f,action:async(e,t)=>{n(!0);let i=await c(e,t);n(!1),h(!1),b({variant:i?"primary":"destructive",description:i?"Success":"Error"}),i&&x.refresh()}})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2420,3627,4476,9373,8391,8291,8457,2066,5586,6301,6722,2632,7130,6215,1744],()=>t(5647)),_N_E=e.O()}]);