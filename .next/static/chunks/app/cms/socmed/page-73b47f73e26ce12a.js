(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5610],{24903:(e,a,l)=>{Promise.resolve().then(l.bind(l,66722)),Promise.resolve().then(l.bind(l,6742))},87592:(e,a,l)=>{"use strict";l.d(a,{Z:()=>i});let i=(0,l(78030).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},6742:(e,a,l)=>{"use strict";l.d(a,{default:()=>p});var i=l(57437),r=l(2265),t=l(52632),n=l(1916),s=l(12200),u=l(4761),d=l(58214);function c(e){let{title:a="Social Media",initialData:l={},action:t}=e,[c,o]=(0,r.useState)({}),[m,g]=(0,r.useState)({url:(null==l?void 0:l.url)||"",imageUrl:(null==l?void 0:l.image)?d._+(null==l?void 0:l.image):"",imageFile:{}}),[v,f]=(0,r.useState)((null==l?void 0:l.image)?d._+(null==l?void 0:l.image):null);return(0,i.jsx)(n.Z,{title:a,children:(0,i.jsxs)("form",{className:"grid w-full items-center gap-4",onSubmit:function(e){e.preventDefault();let a={},i=!0;if(Object.keys(m).forEach(e=>{"imageUrl"===e||("imageFile"===e?m.imageFile.name||""!=m.imageUrl||(a[e]=!0,i=!1):""!==m[e]||(a[e]=!0,i=!1))}),o(a),!i)return;let r={url:m.url,image:m.imageFile,imageUrl:null==l?void 0:l.image};t&&t(r,l._id)},children:[(0,i.jsx)(u.Z,{id:"url",placeholder:"Input url text here..",value:m.url,isError:null==c?void 0:c.url,label:"Url",onChange:function(e){let{id:a,value:l}=e.target;g({...m,[a]:l}),l&&""!==l.trim()?o({...c,[a]:!1}):o({...c,[a]:!0})}}),(0,i.jsx)(u.Z,{id:"image",placeholder:"Input image text here..",isError:null==c?void 0:c.imageFile,label:"Image",type:"image",preview:v,onChange:function(e){let a=e.target.files[0];g({...m,imageFile:a}),a?(f(URL.createObjectURL(a)),o({...c,imageFile:!1})):o({...c,imageFile:!0})}}),(0,i.jsx)("div",{className:"text-end",children:(0,i.jsx)(s.z,{type:"submit",children:(null==l?void 0:l._id)?"Update":"Add"})})]})})}var o=l(58064);let m=(0,o.createServerReference)("40003797b0ff6c1da270eb1e6caf7178a6f3269016",o.callServer,void 0,o.findSourceMapURL,"deleteSocialMedia"),g=(0,o.createServerReference)("6073ea05b75d414a0349eec8da4125c443f238db2e",o.callServer,void 0,o.findSourceMapURL,"createOrUpdateSocialMedia");var v=l(16463),f=l(75649),h=l(75242);function p(e){let{data:a}=e,[l,n]=(0,r.useState)(!1),[s,u]=(0,r.useState)({}),[o,p]=(0,r.useState)(!1),S=(0,v.useRouter)(),{toast:x}=(0,h.pm)();return(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)(f.Z,{loading:l}),(0,i.jsx)(t.Z,{title:"Social Media",dialogOpen:o,setDialogOpen:p,setLoading:n,setFormData:u,data:a,initialColumns:[{accessorKey:"url",header:"url"},{accessorKey:"image",header:"Image",cell:e=>{let{row:a}=e;return(0,i.jsx)("img",{src:d._+a.getValue("image"),alt:a.getValue("image"),className:"rounded-lg w-full lg:w-[8rem] cursor-pointer mt-[0.5rem]"})}}],deleteAction:m,form:(0,i.jsx)(c,{initialData:s,action:async(e,a)=>{n(!0);let l=await g(e,a);n(!1),p(!1),x({variant:l?"primary":"destructive",description:l?"Success":"Error"}),l&&S.refresh()}})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[2420,3627,9373,8391,8291,8457,2066,5586,6301,6722,2632,7130,6215,1744],()=>a(24903)),_N_E=e.O()}]);