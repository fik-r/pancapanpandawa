(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4298],{48692:(e,t,i)=>{Promise.resolve().then(i.bind(i,66722)),Promise.resolve().then(i.bind(i,34943))},31315:(e,t,i)=>{"use strict";i.d(t,{J:()=>u,y:()=>m});var l=i(57437),a=i(2265),r=i(1916),s=i(12200),n=i(4761),d=i(87138),o=i(87592),c=i(58214);function u(e){let{title:t="Core Values",initialData:i={},action:c}=e,[u,m]=(0,a.useState)({}),[g,p]=(0,a.useState)({title:(null==i?void 0:i.title)||""});return(0,l.jsx)(r.Z,{title:t,children:(0,l.jsxs)("form",{className:"grid w-full items-center gap-4",onSubmit:function(e){e.preventDefault();let t={},i=!0;Object.keys(g).forEach(e=>{""===g[e]&&(t[e]=!0,i=!1)}),m(t),i&&c&&c(g)},children:[(0,l.jsx)(n.Z,{id:"title",placeholder:"Input title text here..",value:g.title,isError:null==u?void 0:u.title,label:"Title",onChange:function(e){let{id:t,value:i}=e.target;p({...g,[t]:i}),i&&""!==i.trim()?m({...u,[t]:!1}):m({...u,[t]:!0})}}),(0,l.jsx)(d.default,{href:"/cms/corevalues",children:(0,l.jsxs)(s.z,{className:"rounded-md p-text-body-sm font-semibold",children:["Go to Core Values",(0,l.jsx)(o.Z,{className:"h-4 w-4"})]})}),(0,l.jsx)("div",{className:"text-end",children:(0,l.jsx)(s.z,{type:"submit",children:"Update"})})]})})}function m(e){let{title:t="Core Values",initialData:i={},action:d}=e,[o,u]=(0,a.useState)({}),[m,g]=(0,a.useState)({title:(null==i?void 0:i.title)||"",description:(null==i?void 0:i.description)||"",imageUrl:(null==i?void 0:i.image)?c._+(null==i?void 0:i.image):"",imageFile:{}}),[p,f]=(0,a.useState)((null==i?void 0:i.image)?c._+(null==i?void 0:i.image):null);function v(e){let{id:t,value:i}=e.target;g({...m,[t]:i}),i&&""!==i.trim()?u({...o,[t]:!1}):u({...o,[t]:!0})}return(0,l.jsx)(r.Z,{title:t,children:(0,l.jsxs)("form",{className:"grid w-full items-center gap-4",onSubmit:function(e){e.preventDefault();let t={},l=!0;if(Object.keys(m).forEach(e=>{"imageUrl"===e||("imageFile"===e?m.imageFile.name||""!=m.imageUrl||(t[e]=!0,l=!1):""!==m[e]||(t[e]=!0,l=!1))}),u(t),!l)return;let a={title:m.title,description:m.description,image:m.imageFile,imageUrl:null==i?void 0:i.image};d&&d(a,i._id)},children:[(0,l.jsx)(n.Z,{id:"title",placeholder:"Input title text here..",value:m.title,isError:null==o?void 0:o.title,label:"Title",onChange:v}),(0,l.jsx)(n.Z,{id:"description",placeholder:"Input description text here..",value:m.description,isError:null==o?void 0:o.description,label:"Description",onChange:v,type:"textarea"}),(0,l.jsx)(n.Z,{id:"image",placeholder:"Input image text here..",isError:null==o?void 0:o.imageFile,label:"Image",type:"image",preview:p,onChange:function(e){let t=e.target.files[0];g({...m,imageFile:t}),t?(f(URL.createObjectURL(t)),u({...o,imageFile:!1})):u({...o,imageFile:!0})}}),(0,l.jsx)("div",{className:"text-end",children:(0,l.jsx)(s.z,{type:"submit",children:(null==i?void 0:i._id)?"Update":"Add"})})]})})}},34943:(e,t,i)=>{"use strict";i.d(t,{default:()=>p});var l=i(57437),a=i(2265),r=i(52632),s=i(31315),n=i(58064);let d=(0,n.createServerReference)("40a279df45e376c61ad5fff8aae384bb40a2779db7",n.callServer,void 0,n.findSourceMapURL,"deleteCoreValues"),o=(0,n.createServerReference)("604c3b2748ea7b6b3064ed483f044bddff38666339",n.callServer,void 0,n.findSourceMapURL,"createOrUpdateCoreValues");var c=i(58214),u=i(16463),m=i(75649),g=i(75242);function p(e){let{data:t}=e,[i,n]=(0,a.useState)(!1),[p,f]=(0,a.useState)({}),[v,h]=(0,a.useState)(!1),x=(0,u.useRouter)(),{toast:b}=(0,g.pm)();return(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(m.Z,{loading:i}),(0,l.jsx)(r.Z,{title:"Core Values",dialogOpen:v,setDialogOpen:h,setLoading:n,setFormData:f,data:t,initialColumns:[{accessorKey:"title",header:"Title"},{accessorKey:"image",header:"Image",cell:e=>{let{row:t}=e;return(0,l.jsx)("img",{src:c._+t.getValue("image"),alt:t.getValue("image"),className:"rounded-lg w-full lg:w-[8rem] cursor-pointer mt-[0.5rem]"})}}],deleteAction:d,form:(0,l.jsx)(s.y,{initialData:p,action:async(e,t)=>{n(!0);let i=await o(e,t);n(!1),h(!1),b({variant:i?"primary":"destructive",description:i?"Success":"Error"}),i&&x.refresh()}})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2420,3627,4476,9373,8391,8291,8457,2066,5586,6301,6722,2632,7130,6215,1744],()=>t(48692)),_N_E=e.O()}]);