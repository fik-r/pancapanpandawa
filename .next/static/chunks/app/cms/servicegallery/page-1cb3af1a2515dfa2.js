(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[321],{76444:(e,a,i)=>{Promise.resolve().then(i.bind(i,66722)),Promise.resolve().then(i.bind(i,98430))},51665:(e,a,i)=>{"use strict";i.d(a,{b:()=>u,y:()=>m});var l=i(57437),t=i(2265),r=i(1916),s=i(12200),n=i(4761),d=i(87138),c=i(87592),o=i(58214);function u(e){let{title:a="Gallery of Services",initialData:i={},action:o}=e,[u,m]=(0,t.useState)({}),[g,f]=(0,t.useState)({heading:(null==i?void 0:i.heading)||""});return(0,l.jsx)(r.Z,{title:a,children:(0,l.jsxs)("form",{className:"grid w-full items-center gap-4",onSubmit:function(e){e.preventDefault();let a={},i=!0;Object.keys(g).forEach(e=>{""===g[e]&&(a[e]=!0,i=!1)}),m(a),i&&o&&o(g)},children:[(0,l.jsx)(n.Z,{id:"heading",placeholder:"Input heading text here..",value:g.heading,isError:null==u?void 0:u.heading,label:"Heading",onChange:function(e){let{id:a,value:i}=e.target;f({...g,[a]:i}),i&&""!==i.trim()?m({...u,[a]:!1}):m({...u,[a]:!0})}}),(0,l.jsx)(d.default,{href:"/cms/servicegallery",children:(0,l.jsxs)(s.z,{className:"rounded-md p-text-body-sm font-semibold",children:["Go to Gallery of Services",(0,l.jsx)(c.Z,{className:"h-4 w-4"})]})}),(0,l.jsx)("div",{className:"text-end",children:(0,l.jsx)(s.z,{type:"submit",children:"Update"})})]})})}function m(e){let{title:a="Gallery of Services",initialData:i={},action:d}=e,[c,u]=(0,t.useState)({}),[m,g]=(0,t.useState)({imageUrl:(null==i?void 0:i.image)?o._+(null==i?void 0:i.image):"",imageFile:{}}),[f,v]=(0,t.useState)((null==i?void 0:i.image)?o._+(null==i?void 0:i.image):null);return(0,l.jsx)(r.Z,{title:a,children:(0,l.jsxs)("form",{className:"grid w-full items-center gap-4",onSubmit:function(e){e.preventDefault();let a={},l=!0;if(Object.keys(m).forEach(e=>{"imageUrl"===e||("imageFile"===e?m.imageFile.name||""!=m.imageUrl||(a[e]=!0,l=!1):""!==m[e]||(a[e]=!0,l=!1))}),u(a),!l)return;let t={image:m.imageFile,imageUrl:null==i?void 0:i.image};d&&d(t,i._id)},children:[(0,l.jsx)(n.Z,{id:"image",placeholder:"Input image text here..",isError:null==c?void 0:c.imageFile,label:"Image",type:"image",preview:f,onChange:function(e){let a=e.target.files[0];g({...m,imageFile:a}),a?(v(URL.createObjectURL(a)),u({...c,imageFile:!1})):u({...c,imageFile:!0})}}),(0,l.jsx)("div",{className:"text-end",children:(0,l.jsx)(s.z,{type:"submit",children:(null==i?void 0:i._id)?"Update":"Add"})})]})})}},98430:(e,a,i)=>{"use strict";i.d(a,{default:()=>f});var l=i(57437),t=i(2265),r=i(52632),s=i(51665),n=i(58064);let d=(0,n.createServerReference)("40dd0835a43f22340b7ce6e61984455857d3a9b4a2",n.callServer,void 0,n.findSourceMapURL,"deleteGallery"),c=(0,n.createServerReference)("60064a2f6433ef62f2022def337702b10408476b98",n.callServer,void 0,n.findSourceMapURL,"createOrUpdateGallery");var o=i(58214),u=i(16463),m=i(75649),g=i(75242);function f(e){let{data:a}=e,[i,n]=(0,t.useState)(!1),[f,v]=(0,t.useState)({}),[h,p]=(0,t.useState)(!1),x=(0,u.useRouter)(),{toast:j}=(0,g.pm)();return(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(m.Z,{loading:i}),(0,l.jsx)(r.Z,{title:"Gallery of Services",dialogOpen:h,setDialogOpen:p,setLoading:n,setFormData:v,data:a,initialColumns:[{accessorKey:"image",header:"Image",cell:e=>{let{row:a}=e;return(0,l.jsx)("img",{src:o._+a.getValue("image"),alt:a.getValue("image"),className:"rounded-lg w-full lg:w-[8rem] cursor-pointer mt-[0.5rem]"})}}],deleteAction:d,form:(0,l.jsx)(s.y,{initialData:f,action:async(e,a)=>{n(!0);let i=await c(e,a);n(!1),p(!1),j({variant:i?"primary":"destructive",description:i?"Success":"Error"}),i&&x.refresh()}})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[2420,3627,4476,9373,8391,8291,8457,2066,5586,6301,6722,2632,7130,6215,1744],()=>a(76444)),_N_E=e.O()}]);