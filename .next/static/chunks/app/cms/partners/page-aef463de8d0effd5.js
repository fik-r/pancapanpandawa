(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7078],{62442:(e,t,l)=>{Promise.resolve().then(l.bind(l,66722)),Promise.resolve().then(l.bind(l,25801))},37620:(e,t,l)=>{"use strict";l.d(t,{G:()=>u,t:()=>m});var i=l(57437),a=l(2265),r=l(1916),n=l(12200),s=l(4761),d=l(58214),c=l(87138),o=l(87592);function u(e){let{initialData:t,action:l,title:c="Partner"}=e,[o,u]=(0,a.useState)({}),[m,g]=(0,a.useState)({title:(null==t?void 0:t.title)||"",imageUrl:(null==t?void 0:t.image)?d._+(null==t?void 0:t.image):"",imageFile:{}}),[f,v]=(0,a.useState)((null==t?void 0:t.image)?d._+(null==t?void 0:t.image):null);return(0,i.jsx)(r.Z,{title:c,children:(0,i.jsxs)("form",{className:"grid w-full items-center gap-4",onSubmit:function(e){e.preventDefault();let i={},a=!0;if(Object.keys(m).forEach(e=>{"imageUrl"===e||("imageFile"===e?m.imageFile.name||""!=m.imageUrl||(i[e]=!0,a=!1):""!==m[e]||(i[e]=!0,a=!1))}),u(i),!a)return;let r={title:m.title,image:m.imageFile,imageUrl:null==t?void 0:t.image};l&&l(r,t._id)},children:[(0,i.jsx)(s.Z,{id:"title",placeholder:"Input title text here..",value:m.title,isError:null==o?void 0:o.title,label:"Title",onChange:function(e){let{id:t,value:l}=e.target;g({...m,[t]:l}),l&&""!==l.trim()?u({...o,[t]:!1}):u({...o,[t]:!0})}}),(0,i.jsx)(s.Z,{id:"image",placeholder:"Input image text here..",isError:null==o?void 0:o.imageFile,label:"Image",type:"image",preview:f,onChange:function(e){let t=e.target.files[0];g({...m,imageFile:t}),t?(v(URL.createObjectURL(t)),u({...o,imageFile:!1})):u({...o,imageFile:!0})}}),(0,i.jsx)("div",{className:"text-end",children:(0,i.jsx)(n.z,{type:"submit",children:(null==t?void 0:t._id)?"Update":"Add"})})]})})}function m(e){let{title:t="Partners",initialData:l,action:d}=e,[u,m]=(0,a.useState)({}),[g,f]=(0,a.useState)({title:(null==l?void 0:l.title)||""});return(0,i.jsx)(r.Z,{title:t,children:(0,i.jsxs)("form",{className:"grid w-full items-center gap-4",onSubmit:function(e){e.preventDefault();let t={},l=!0;Object.keys(g).forEach(e=>{""===g[e]&&(t[e]=!0,l=!1)}),m(t),l&&d&&d(g)},children:[(0,i.jsx)(s.Z,{id:"title",placeholder:"Input title text here..",value:g.title,isError:null==u?void 0:u.title,label:"Title",onChange:function(e){let{id:t,value:l}=e.target;f({...g,[t]:l}),l&&""!==l.trim()?m({...u,[t]:!1}):m({...u,[t]:!0})}}),(0,i.jsx)(c.default,{href:"/cms/partners",children:(0,i.jsxs)(n.z,{className:"rounded-md p-text-body-sm font-semibold",children:["Go to Partners",(0,i.jsx)(o.Z,{className:"h-4 w-4"})]})}),(0,i.jsx)("div",{className:"text-end",children:(0,i.jsx)(n.z,{type:"submit",children:"Update"})})]})})}},25801:(e,t,l)=>{"use strict";l.d(t,{default:()=>f});var i=l(57437),a=l(2265),r=l(52632),n=l(37620),s=l(58064);let d=(0,s.createServerReference)("40d6f7d9aef486330d57659038ae82e8b3ece7a67e",s.callServer,void 0,s.findSourceMapURL,"deletePartner"),c=(0,s.createServerReference)("60dae4fbd4fe25df1945590a647098ff798c33e1a5",s.callServer,void 0,s.findSourceMapURL,"createOrUpdatePartner");var o=l(58214),u=l(16463),m=l(75649),g=l(75242);function f(e){let{data:t}=e,[l,s]=(0,a.useState)(!1),[f,v]=(0,a.useState)({}),[h,p]=(0,a.useState)(!1),x=(0,u.useRouter)(),{toast:j}=(0,g.pm)();return(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)(m.Z,{loading:l}),(0,i.jsx)(r.Z,{title:"Partners",dialogOpen:h,setDialogOpen:p,setLoading:s,setFormData:v,data:t,initialColumns:[{accessorKey:"title",header:"Title"},{accessorKey:"image",header:"Image",cell:e=>{let{row:t}=e;return(0,i.jsx)("img",{src:o._+t.getValue("image"),alt:t.getValue("image"),className:"rounded-lg w-full lg:w-[8rem] cursor-pointer mt-[0.5rem]"})}}],deleteAction:d,form:(0,i.jsx)(n.G,{initialData:f,action:async(e,t)=>{s(!0);let l=await c(e,t);s(!1),p(!1),j({variant:l?"primary":"destructive",description:l?"Success":"Error"}),l&&x.refresh()}})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2420,3627,4476,9373,8391,8291,8457,2066,5586,6301,6722,2632,7130,6215,1744],()=>t(62442)),_N_E=e.O()}]);