(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6376],{62940:(e,i,t)=>{Promise.resolve().then(t.bind(t,66722)),Promise.resolve().then(t.bind(t,35688))},17752:(e,i,t)=>{"use strict";t.d(i,{c:()=>u,v:()=>m});var a=t(57437),l=t(2265),r=t(1916),n=t(12200),s=t(4761),o=t(87138),d=t(87592),c=t(58214);function u(e){let{title:i="Our Team",initialData:t={},action:c}=e,[u,m]=(0,l.useState)({}),[p,g]=(0,l.useState)({title:(null==t?void 0:t.title)||"",description:(null==t?void 0:t.description)||""});function v(e){let{id:i,value:t}=e.target;g({...p,[i]:t}),t&&""!==t.trim()?m({...u,[i]:!1}):m({...u,[i]:!0})}return(0,a.jsx)(r.Z,{title:i,children:(0,a.jsxs)("form",{className:"grid w-full items-center gap-4",onSubmit:function(e){e.preventDefault();let i={},t=!0;Object.keys(p).forEach(e=>{""===p[e]&&(i[e]=!0,t=!1)}),m(i),t&&c&&c(p)},children:[(0,a.jsx)(s.Z,{id:"title",placeholder:"Input title text here..",value:p.title,isError:null==u?void 0:u.title,label:"Title",onChange:v}),(0,a.jsx)(s.Z,{id:"description",placeholder:"Input description text here..",value:p.description,isError:null==u?void 0:u.description,label:"Description",onChange:v}),(0,a.jsx)(o.default,{href:"/cms/ourteams",children:(0,a.jsxs)(n.z,{className:"rounded-md p-text-body-sm font-semibold",children:["Go to Our Teams",(0,a.jsx)(d.Z,{className:"h-4 w-4"})]})}),(0,a.jsx)("div",{className:"text-end",children:(0,a.jsx)(n.z,{type:"submit",children:"Update"})})]})})}function m(e){let{title:i="Our Team",initialData:t={},action:o}=e,[d,u]=(0,l.useState)({}),[m,p]=(0,l.useState)({name:(null==t?void 0:t.name)||"",position:(null==t?void 0:t.position)||"",imageUrl:(null==t?void 0:t.image)?c._+(null==t?void 0:t.image):"",imageFile:{}}),[g,v]=(0,l.useState)((null==t?void 0:t.image)?c._+(null==t?void 0:t.image):null);function h(e){let{id:i,value:t}=e.target;p({...m,[i]:t}),t&&""!==t.trim()?u({...d,[i]:!1}):u({...d,[i]:!0})}return(0,a.jsx)(r.Z,{title:i,children:(0,a.jsxs)("form",{className:"grid w-full items-center gap-4",onSubmit:function(e){e.preventDefault();let i={},a=!0;if(Object.keys(m).forEach(e=>{"imageUrl"===e||("imageFile"===e?m.imageFile.name||""!=m.imageUrl||(i[e]=!0,a=!1):""!==m[e]||(i[e]=!0,a=!1))}),u(i),!a)return;let l={name:m.name,position:m.position,image:m.imageFile,imageUrl:null==t?void 0:t.image};o&&o(l,t._id)},children:[(0,a.jsx)(s.Z,{id:"name",placeholder:"Input name text here..",value:m.name,isError:null==d?void 0:d.name,label:"Name",onChange:h}),(0,a.jsx)(s.Z,{id:"position",placeholder:"Input position text here..",value:m.position,isError:null==d?void 0:d.position,label:"Position",onChange:h,type:"textarea"}),(0,a.jsx)(s.Z,{id:"image",placeholder:"Input image text here..",isError:null==d?void 0:d.imageFile,label:"Image",type:"image",preview:g,onChange:function(e){let i=e.target.files[0];p({...m,imageFile:i}),i?(v(URL.createObjectURL(i)),u({...d,imageFile:!1})):u({...d,imageFile:!0})}}),(0,a.jsx)("div",{className:"text-end",children:(0,a.jsx)(n.z,{type:"submit",children:(null==t?void 0:t._id)?"Update":"Add"})})]})})}},35688:(e,i,t)=>{"use strict";t.d(i,{default:()=>g});var a=t(57437),l=t(2265),r=t(52632),n=t(17752),s=t(58064);let o=(0,s.createServerReference)("40f661127687f79b52d6cf283a7c4d86a6441352ad",s.callServer,void 0,s.findSourceMapURL,"deleteOurTeam"),d=(0,s.createServerReference)("609c811b1b9ec548bdc8b844283bcabed1b05ad4cf",s.callServer,void 0,s.findSourceMapURL,"createOrUpdateOurTeam");var c=t(16463),u=t(58214),m=t(75649),p=t(75242);function g(e){let{data:i}=e,[t,s]=(0,l.useState)(!1),[g,v]=(0,l.useState)({}),[h,f]=(0,l.useState)(!1),x=(0,c.useRouter)(),{toast:b}=(0,p.pm)();return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(m.Z,{loading:t}),(0,a.jsx)(r.Z,{title:"Our Team",dialogOpen:h,setDialogOpen:f,setLoading:s,setFormData:v,data:i,initialColumns:[{accessorKey:"name",header:"Name"},{accessorKey:"position",header:"Position"},{accessorKey:"image",header:"Image",cell:e=>{let{row:i}=e;return(0,a.jsx)("img",{src:u._+i.getValue("image"),alt:i.getValue("image"),className:"rounded-lg w-full lg:w-[8rem] cursor-pointer mt-[0.5rem]"})}}],deleteAction:o,form:(0,a.jsx)(n.v,{initialData:g,action:async(e,i)=>{s(!0);let t=await d(e,i);s(!1),f(!1),b({variant:t?"primary":"destructive",description:t?"Success":"Error"}),t&&x.refresh()}})})]})}}},e=>{var i=i=>e(e.s=i);e.O(0,[2420,3627,4476,9373,8391,8291,8457,2066,5586,6301,6722,2632,7130,6215,1744],()=>i(62940)),_N_E=e.O()}]);